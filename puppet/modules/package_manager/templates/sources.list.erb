##################
# Puppet Managed #
##################

<% if scope.lookupvar("::lsbdistcodename") == "lenny" or (scope.lookupvar("::lsbdistcodename") == "n/a" and lsbmajdistrelease == "5") -%>
# debian leeny
deb http://archive.debian.org/debian-archive lenny main contrib non-free

<% pfs = scope.lookupvar('::packages_from_squeeze')
   pfs = [] unless pfs.is_a?(Array)
   if pfs.any? -%>
# debian squeeze
deb http://archive.debian.org/debian-archive/debian squeeze main contrib non-free
<% end -%>

<% elsif scope.lookupvar("::lsbdistcodename") == "squeeze" or (scope.lookupvar("::lsbdistcodename") == "n/a" and lsbmajdistrelease == "6") -%>
deb http://archive.debian.org/debian-archive/debian squeeze main contrib non-free
deb http://archive.debian.org/debian-archive/debian squeeze-lts main contrib non-free

<% pfw = scope.lookupvar('::packages_from_wheezy')
   pfw = [] unless pfw.is_a?(Array)
   if pfw.any? -%>
# debian wheezy
deb http://archive.debian.org/debian wheezy main contrib non-free
<% end -%>

<% elsif scope.lookupvar("::lsbdistcodename") == "wheezy" or (scope.lookupvar("::lsbdistcodename") == "n/a" and lsbmajdistrelease == "7") -%>
# debian wheezy
deb http://archive.debian.org/debian-archive/debian wheezy main contrib non-free

<% pfw = scope.lookupvar('::packages_from_jessie')
   pfw = [] unless pfw.is_a?(Array)
   if pfw.any? -%>
# debian jessie
deb http://http.debian.net/debian jessie main contrib non-free
<% end -%>

<% elsif scope.lookupvar("::lsbdistcodename") == "jessie" or (scope.lookupvar("::lsbdistcodename") == "n/a" and lsbmajdistrelease == "8") -%>
# debian jessie
deb http://http.debian.net/debian jessie main contrib non-free

# jessie-updates ja no esta als repos..
#deb http://http.debian.net/debian jessie-updates main

<% pfw = scope.lookupvar('::packages_from_stretch')
   pfw = [] unless pfw.is_a?(Array)
   if pfw.any? -%>
# debian stretch
deb http://http.debian.net/debian stretch main contrib non-free
<% end -%>

<% elsif scope.lookupvar("::lsbdistcodename") == "stretch" or (scope.lookupvar("::lsbdistcodename") == "n/a" and lsbmajdistrelease == "9") -%>
# debian stretch
deb http://deb.debian.org/debian stretch main contrib non-free

<% pfw = scope.lookupvar('::packages_from_buster')
   pfw = [] unless pfw.is_a?(Array)
   if pfw.any? -%>
# debian buster
deb http://deb.debian.org/debian buster main contrib non-free
<% end -%>

<% end -%>
